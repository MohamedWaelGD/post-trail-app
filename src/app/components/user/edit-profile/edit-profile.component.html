<div class="container my-5 w-50 p-5 bg-light-50 shadow rounded" *ngIf="activeUser">
  <div class="d-flex justify-content-between align-items-center">
    <h1 style="font-size: 3.2rem;">User Profile</h1>
    <button class="btn btn-primary h-50" routerLink="/user/profile/{{activeUser.uid}}">View Profile</button>
  </div>
  <div class="d-flex flex-column justify-content-center align-items-center position-relative" *ngIf="user$ | async as user">
    <img class="rounded-circle" width="200" height="200" style="object-fit: cover;" [src]="user.photoURL ?? 'assets/Unknown_person.jpg'"/>
    <button class="btn btn-warning mt-2" (click)="imageField.click()">Change Picture</button>
    <input #imageField type="file" hidden (change)="uploadImage($event, user)"/>
  </div>
  <form class="mt-4" [formGroup]="profileForm" (submit)="saveProfile()">
    <div class="form-floating mb-3 text-dark">
      <input formControlName="displayName" type="text" class="form-control" id="floatingDisplayName" placeholder="name">
      <label for="floatingDisplayName">Name</label>
    </div>
    <div class="form-floating mb-3 text-dark">
      <input formControlName="birthdate" type="date" class="form-control" id="floatingBirthdate" placeholder="birthdate">
      <label for="floatingBirthdate">Birthdate</label>
    </div>
    <div class="form-floating mb-3 text-dark">
      <input formControlName="phone" type="text" class="form-control" id="floatingPhone" placeholder="phone">
      <label for="floatingPhone">Phone</label>
    </div>
    <div class="form-floating mb-3 text-dark">
      <input formControlName="address" type="text" class="form-control" id="floatingAddress" placeholder="address">
      <label for="floatingAddress">Address</label>
    </div>
    <div class="d-flex flex-column align-items-center justify-content-center">
      <button class="btn btn-primary mt-4 p-3">Save</button>
    </div>

  </form>
</div>